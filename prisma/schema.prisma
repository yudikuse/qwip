// ===== Prisma Header =====
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"     // se você usa Supabase/Neon/Postgres
  url      = env("DATABASE_URL")
  // Se seu banco for MySQL/PlanetScale, troque: provider = "mysql"
  // Se for SQLite local, troque: provider = "sqlite" e url = "file:./dev.db"
}

// ===== Models =====
model Ad {
  id           String   @id @default(cuid())
  title        String
  description  String
  priceCents   Int
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  // === IMAGEM (persistida em storage) ===
  imageUrl     String            // URL pública no storage (ex.: Vercel Blob)
  imageMime    String?           // ex.: "image/jpeg", "image/png"
  imageWidth   Int?              // px (opcional)
  imageHeight  Int?              // px (opcional)
  imageSha256  String?           // hash para deduplicação/antiabuso

  @@index([imageSha256])
}
